{% extends "game.html" %}

{% block styles %}
{{ super() }}
<style>

    #settingsBox{
        width: 50%;
        padding: 20px;
        min-width: 250px;
        height: auto;

    }

</style>
{% endblock styles %}

{% block content %}
<div class="card" id="settingsBox">
    <div class="card-body">
        <h5 class="card-title">Settings</h5>

        {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
            {% for category, message in messages %}
                {% if category == "name_info" or category == "name_error" %}
            <div class="{% if category == "name_info"%} alert alert-success {% elif category == "name_error"%} alert alert-danger {% endif %}" role="alert">
                {{ message }}
            </div>
                {% endif %}
            {% endfor %}
        {% endif %}
        {% endwith %}
        <form action="#" method="post">
            <label class="col-form-label" for="inputNickname">Current nickname: <b>{{ current_user.name }}</b></label>
            <input type="text" class="form-control" placeholder="Nickname" id="inputNickname" name="name">
            <button type="submit" class="btn btn-primary" id="buttonChangeNickname" name="name_submit">Change nickname</button>
        </form>

        {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
            {% for category, message in messages %}
                {% if category == "email_info" or category == "email_error" %}
            <div class="{% if category == "email_info"%} alert alert-success {% elif category == "email_error"%} alert alert-danger {% endif %}" role="alert">
                {{ message }}
            </div>
                {% endif %}
            {% endfor %}
        {% endif %}
        {% endwith %}
        <form action="#" method="post">
            <label class="col-form-label" for="inputEmail">Current e-mail: <b>{{ current_user.email }}</b></label>
            <input type="email" class="form-control" placeholder="Email@example.com" id="inputEmail" name="email">
            <button type="submit" class="btn btn-primary" id="buttonChangeEmail" name="email_submit">Change email</button>
        </form>

        {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
            {% for category, message in messages %}
                {% if category == "password_info" or category == "password_error" %}
            <div class="{% if category == "password_info"%} alert alert-success {% elif category == "password_error"%} alert alert-danger {% endif %}" role="alert">
                {{ message }}
            </div>
                {% endif %}
            {% endfor %}
        {% endif %}
        {% endwith %}
        <form action="#" method="post">
            <label class="col-form-label" for="inputPassword">Password</label>
            <input type="password" class="form-control" placeholder="Current password" id="inputPassword" name="password">
            <input type="password" class="form-control" placeholder="New password" id="inputPassword" name="new_password">
            <button type="submit" class="btn btn-primary" id="buttonChangePassword" name="password_submit">Change password</button>
        </form>
    </div>
</div>
{% endblock content %}